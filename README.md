# 遥控器项目说明文档

## 项目概述
这是一个基于Arduino的遥控器项目，支持多种飞机模型的控制，具有自稳模式和姿态保持功能。项目包含发射端和接收端两个部分。

## 核心功能

### 1. 多机型支持
- 纸飞机模式 (PAPER_PLANE)
- 骆驼战斗机模式 (CAMEL_FIGHTER)
- P51野马战斗机模式 (P51_FIGHTER)

### 2. 飞行模式
- 手动模式 (MANUAL)：直接控制舵机
- 自稳模式 (STABILIZE)：自动保持水平姿态
- 姿态保持模式 (HOLD)：保持当前姿态

### 3. 控制系统
- 油门控制：0-100%可调
- 双通道控制：支持俯仰和横滚
- 舵机混合控制：支持对称和差动操作
- 通道反转功能：可独立设置每个通道的方向

### 4. 信号系统
- 实时RSSI信号强度显示
- 自动重发机制
- 丢包率监控
- 信号质量评估

### 5. 用户界面
- OLED显示界面
- 菜单配置系统
- 实时状态显示
- 信号强度指示

### 6. 安全特性
- 油门安全检查
- 失控保护
- 自动进入睡眠模式
- 配置保存功能

## 技术规格

### 硬件要求
- 发射端：
  - Arduino Nano
  - nRF24L01无线模块
  - OLED显示屏
  - 双轴摇杆
  - 油门电位器

- 接收端：
  - ESP32
  - nRF24L01无线模块
  - MPU6500姿态传感器
  - 3个舵机接口

### 通信参数
- 工作频率：2.4GHz
- 数据速率：250KBPS
- 发射功率：最大功率
- 自动确认：启用
- CRC校验：16位

### 控制参数
- 更新频率：100Hz
- 死区范围：±20
- 舵机范围：45°-135°
- 油门范围：0-100%

## 使用说明

### 基本操作
1. 上电后等待系统初始化
2. 确保油门在最低位置
3. 通过菜单选择机型
4. 配置控制模式
5. 开始控制

### 菜单操作
- 通道1：上下选择
- 通道2：确认/返回
- 支持以下配置：
  - 机型选择
  - 混合模式
  - 通道反转
  - 配置加载

### 安全注意事项
1. 首次使用前必须进行油门校准
2. 确保接收端电池电量充足
3. 飞行前检查信号强度
4. 注意失控保护功能

## 开发说明

### 代码结构
- 发射端：`remotecontroller_pa_v2.ino`
- 接收端：`remotereciver_esp32_2chl.ino`

### 主要模块
1. 无线通信模块
2. 姿态控制模块
3. 用户界面模块
4. 配置管理模块
5. 安全控制模块

### 扩展性
- 支持添加新的机型
- 可扩展飞行模式
- 支持自定义PID参数
- 可添加新的控制通道

## 维护说明

### 日常维护
1. 定期检查信号质量
2. 校准摇杆和油门
3. 更新配置参数
4. 检查电池状态

### 故障排除
1. 信号问题：检查天线和距离
2. 控制问题：检查通道配置
3. 显示问题：检查OLED连接
4. 姿态问题：检查MPU6500校准

## 版本历史
- v1.0：基础功能实现
- v2.0：添加自稳模式
- v2.1：优化信号系统
- v2.2：添加P51机型支持 